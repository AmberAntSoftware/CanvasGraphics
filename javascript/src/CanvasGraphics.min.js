function CanvasGraphics(canvasObject,canvasWidth,canvasHeight){var canvas=null;if(canvasObject==null||''+canvasObject=='undefined'){canvas=document.createElement('canvas')}else canvas=canvasObject;if(typeof canvasWidth!=='undefined'&&typeof canvasHeight!=='undefined'){canvas.width=canvasWidth;canvas.height=canvasHeight}var ctx=canvas.getContext('2d');var isNumber=function(num){switch(num){case(0):break;case(1):break;case(2):break;case(3):break;case(4):break;case(5):break;case(6):break;case(7):break;case(8):break;case(9):break;default:return false}return true}this.getWidth=function(){return canvas.width}this.getHeight=function(){return canvas.height}this.getCanvas=function(){return canvas}this.getContext=function(){return ctx}this.resizeCanvas=function(wwidth,hheight){canvas.width=wwidth;canvas.height=hheight}this.setColor=function(hex,g,b,a){hex=""+hex;if(isNumber(hex.charAt(0))){hex="#"+hex}if(typeof g!=="undefined"){if(typeof a!=="undefined"){hex="rgba("+hex+","+g+","+b+","+(a>1?a/255:a)+")"}else{hex="rgb("+hex+","+g+","+b+")"}}ctx.fillStyle=hex;ctx.strokeStyle=hex}this.setFont=function(font,height){if(typeof height!=="undefined"){if(font.substring(font.length-2,2)==="px")font=+height+"px "+font;else font=height+"px "+font.substring(0,font.length)}ctx.font=font}this.setGraphicsSize=function(width,height){canvas.width=width;canvas.height=height}this.clearRect=function(x,y,width,height){ctx.clearRect(x,y,width,height)}this.fillRect=function(x,y,width,height){ctx.fillRect(x,y,width,height)}this.drawRect=function(x,y,width,height){ctx.strokeRect(x,y,width,height)}this.drawLine=function(x0,y0,x1,y1){ctx.moveTo(x0,y0);ctx.lineTo(x1,y1);ctx.stroke()}this.drawCircle=function(x,y,radius){ctx.beginPath();ctx.arc(x,y,radius,0,2*Math.PI);ctx.stroke()}this.drawOval=function(ctx,cx,cy,rx,ry){if(ctx.ellipse){ctx.beginPath();ctx.ellipse(cx,cy,rx,ry,0,0,Math.PI*2);ctx.stroke()}}this.fillOval=function(ctx,cx,cy,rx,ry){if(ctx.ellipse){ctx.beginPath();ctx.ellipse(cx,cy,rx,ry,0,0,Math.PI*2);ctx.fill()}}this.drawImage=function(img,sx,sy,swidth,sheight,x,y,width,height){if(""+swidth=="undefined"){ctx.drawImage(img,sx,sy);return}if(""+x=="undefined"){ctx.drawImage(img,sx,sy,swidth,sheight);return}ctx.drawImage(img,sx,sy,swidth,sheight,x,y,width,height)}this.drawImage_Fast=function(img,sx,sy,swidth,sheight,x,y,width,height){if(""+swidth=="undefined"){ctx.drawImage(img,Math.round(sx),Math.round(sy));return}if(""+x=="undefined"){ctx.drawImage(img,Math.round(sx),Math.round(sy),Math.round(swidth),Math.round(sheight));return}ctx.drawImage(img,Math.round(sx),Math.round(sy),Math.round(swidth),Math.round(sheight),Math.round(x),Math.round(y),Math.round(width),Math.round(height))}this.drawString=function(string,x,y,fill){if(typeof fill!=="undefined"){if(fill){ctx.fillText(string,x,y);return}ctx.strokeText(string,x,y);return}ctx.fillText(string,x,y)}this.getStringWidth=function(txt){return ctx.measureText(txt).width}};