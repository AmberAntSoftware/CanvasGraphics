function CanvasGraphics(e,t,i){var n=null;n=null==e||""+e=="undefined"?document.createElement("canvas"):e,"undefined"!=typeof t&&"undefined"!=typeof i&&(n.width=t,n.height=i);var a=n.getContext("2d"),r=function(e){switch(e){case 0:break;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;default:return!1}return!0};this.getWidth=function(){return n.width},this.getHeight=function(){return n.height},this.getCanvas=function(){return n},this.getContext=function(){return a},this.resizeCanvas=function(e,t){n.width=e,n.height=t},this.setColor=function(e,t,i,n){e=""+e,r(e.charAt(0))&&(e="#"+e),"undefined"!=typeof t&&(e="undefined"!=typeof n?"rgba("+e+","+t+","+i+","+(n>1?n/255:n)+")":"rgb("+e+","+t+","+i+")"),a.fillStyle=e,a.strokeStyle=e},this.setFont=function(e,t){"undefined"!=typeof t&&(e="px"===e.substring(e.length-2,2)?+t+"px "+e:t+"px "+e.substring(0,e.length)),a.font=e},this.setGraphicsSize=function(e,t){n.width=e,n.height=t},this.clearRect=function(e,t,i,n){a.clearRect(e,t,i,n)},this.fillRect=function(e,t,i,n){a.fillRect(e,t,i,n)},this.drawRect=function(e,t,i,n){a.strokeRect(e,t,i,n)},this.drawLine=function(e,t,i,n){a.moveTo(e,t),a.lineTo(i,n),a.stroke()},this.drawCircle=function(e,t,i){a.beginPath(),a.arc(e,t,i,0,2*Math.PI),a.stroke()},this.drawOval=function(e,t,i,n,a){e.ellipse&&(e.beginPath(),e.ellipse(t,i,n,a,0,0,2*Math.PI),e.stroke())},this.fillOval=function(e,t,i,n,a){e.ellipse&&(e.beginPath(),e.ellipse(t,i,n,a,0,0,2*Math.PI),e.fill())},this.drawImage=function(e,t,i,n,r,s,d,o,u){return""+n=="undefined"?void a.drawImage(e,t,i):""+s=="undefined"?void a.drawImage(e,t,i,n,r):void a.drawImage(e,t,i,n,r,s,d,o,u)},this.drawImage_Fast=function(e,t,i,n,r,s,d,o,u){return""+n=="undefined"?void a.drawImage(e,~~t,~~i):""+s=="undefined"?void a.drawImage(e,~~t,~~i,~~n,~~r):void a.drawImage(e,~~t,~~i,~~n,~~r,~~s,~~d,~~o,~~u)},this.drawString=function(e,t,i,n){return"undefined"!=typeof n?n?void a.fillText(e,t,i):void a.strokeText(e,t,i):void a.fillText(e,t,i)},this.getStringWidth=function(e){return a.measureText(e).width}}